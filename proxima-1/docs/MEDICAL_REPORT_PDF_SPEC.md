# Medical Report PDF Specification

## Overview
This document specifies the Epic MyChart-style medical report PDF format for Seimeo. This is generated when users click "Generate Medical Report" from Quick Scan or other assessment results.

## Purpose
- Provide doctor-ready documentation for medical visits
- Support work/school medical leave documentation  
- Create professional health records for personal use
- Enable referral and specialist consultation preparation

## PDF Structure

### Page 1: Executive Summary

```
╔════════════════════════════════════════════════════════════════╗
║ PATIENT HEALTH ASSESSMENT                    Valid for 7 days  ║
║ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ║
║                                                                ║
║ ┌─ URGENCY ─────────────────────────────────────────────────┐ ║
║ │ [●●●●●●●●○○] MODERATE - Schedule within 48-72 hours       │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ CHIEF COMPLAINT                          Assessed: [DATE]      ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ [Primary symptom description]                             │ ║
║ │ Duration: [X days/weeks] | Severity: [X/10] | Pattern: [X]│ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ SYMPTOM PROGRESSION                                            ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ [Chart showing severity over time]                        │ ║
║ │ - X-axis: Dates                                           │ ║
║ │ - Y-axis: Severity (0-10)                                 │ ║
║ │ - Trend indicator (improving/worsening/stable)            │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ ⚠️ RED FLAGS TO RULE OUT                                      ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ [Checkbox list of critical symptoms]                      │ ║
║ │ □/■ [Symptom] - [PRESENT/NOT PRESENT]                     │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ WHAT PATIENT HAS TRIED                                        ║
║ • [Treatment/medication] - [Result/effectiveness]              ║
║                                                                ║
║ AI DIFFERENTIAL (Confidence: [X]%)                            ║
║ 1. [Primary condition] ([X]% match)                           ║
║ 2. [Alternative condition] ([X]% match)                       ║
║ 3. [Third possibility] ([X]% match)                           ║
║                                                                ║
║ ─────────────────────────────────────────────────────────────  ║
║ Generated by Seimeo AI • Not a diagnosis • Expires [DATE]     ║
║ Verification: sha256:[hash]                                   ║
╚════════════════════════════════════════════════════════════════╝
```

### Page 2: Detailed Documentation

```
╔════════════════════════════════════════════════════════════════╗
║ DETAILED SYMPTOM DOCUMENTATION                     Page 2 of X ║
║ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ║
║                                                                ║
║ ASSOCIATED SYMPTOMS                                            ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ ✓/✗ [Symptom]     Started: [Date]     Severity: [Level]   │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ TRIGGERS & PATTERNS                                           ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ Time:     [Pattern description]                           │ ║
║ │ Activity: [Trigger description]                           │ ║
║ │ Position: [Position-related factors]                      │ ║
║ │ Weather:  [Weather correlation]                           │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ RELEVANT HISTORY                                              ║
║ • Family: [Family medical history]                            ║
║ • Previous: [Previous similar episodes]                       ║
║ • Medications: [Current medications]                          ║
║ • Allergies: [Known allergies]                                ║
║                                                                ║
║ PHOTO DOCUMENTATION (if applicable)                           ║
║ ┌────────────────────────────────────────────────────────────┐ ║
║ │ [Photo thumbnails with dates]                             │ ║
║ │ [Findings/changes noted]                                  │ ║
║ └────────────────────────────────────────────────────────────┘ ║
║                                                                ║
║ DATA SOURCES                                                   ║
║ • Quick Scans: [List of scan IDs]                            ║
║ • Deep Dives: [List of session IDs]                          ║
║ • Photo Sessions: [List of photo session IDs]                ║
║                                                                ║
║ ─────────────────────────────────────────────────────────────  ║
║ Seimeo Health Intelligence Platform • Expires [DATE]          ║
╚════════════════════════════════════════════════════════════════╝
```

## Data Requirements

### Required Fields
- **Chief Complaint**: Primary symptom, location, duration, severity (1-10), pattern
- **Urgency Level**: critical | high | moderate | low
- **Assessment Date**: When the assessment was performed
- **Symptom Timeline**: Array of {date, severity} for chart generation
- **AI Analysis**: Primary condition, confidence score, differentials

### Optional Fields
- **Red Flags**: List of critical symptoms to check
- **Treatments Tried**: What patient has attempted and results
- **Associated Symptoms**: Secondary symptoms with onset dates
- **Triggers/Patterns**: Time-based, activity-based, position-based patterns
- **Medical History**: Family history, previous episodes, current medications, allergies
- **Photo Documentation**: Thumbnails and findings from photo analysis
- **Tracking Data**: If user has been tracking this symptom

## Visual Specifications

### Colors
- **Urgency Levels**:
  - Critical: `#991B1B` (dark red)
  - High: `#DC2626` (red)
  - Moderate: `#CA8A04` (amber)
  - Low: `#16A34A` (green)
- **Primary**: `#9333EA` (purple-600)
- **Text**: `#1E293B` (slate-800)
- **Muted**: `#64748B` (slate-500)

### Typography
- **Header**: Helvetica Bold 16pt
- **Section Title**: Helvetica Bold 14pt
- **Body Text**: Helvetica 11pt
- **Caption**: Helvetica 9pt

### Layout
- **Page Size**: A4 (210mm x 297mm)
- **Margins**: 20mm all sides
- **Line Spacing**: 1.5
- **Section Gap**: 15mm

## Components

### 1. Urgency Bar
Visual indicator showing urgency level:
- 10 segments total
- Fill based on urgency (3 for low, 6 for moderate, 8 for high, 10 for critical)
- Color-coded with urgency colors
- Text label describing recommended action timeframe

### 2. Symptom Progression Chart
Line chart showing symptom severity over time:
- X-axis: Dates (formatted as "Jan 1", "Jan 8", etc.)
- Y-axis: Severity scale (0-10)
- Purple line (#9333EA) with data points
- Trend arrow/indicator
- "Today" marker on latest data point

### 3. Red Flags Checklist
Critical symptoms to rule out:
- Checkbox format (□ for not present, ■ for present)
- Each item shows symptom and status
- Highlight present symptoms in amber/red
- Common red flags vary by body part/symptom type

### 4. AI Differential
Ranked list of possible conditions:
- Primary condition with highest confidence
- 2-3 alternative possibilities
- Percentage match for each
- Overall confidence score

## Security Features

### Verification Hash
- SHA-256 hash of document content
- First 10 characters displayed
- Format: `sha256:a7b9c2d4...`

### Validity Period
- 7-day expiration from generation date
- Clear expiry date shown in header and footer
- Watermark on expired documents

### Privacy
- No PHI by default unless user opts in
- Name field optional
- DOB field optional
- Anonymized photo references

## Use Cases

### 1. Doctor Visit
Patient generates report before appointment to:
- Save consultation time
- Ensure nothing is forgotten
- Provide objective symptom timeline
- Show what treatments were tried

### 2. Work/School Documentation
Provides professional documentation for:
- Medical leave requests
- Accommodation needs
- Return-to-work clearance
- School nurse requirements

### 3. Specialist Referral
Comprehensive history for:
- Initial specialist consultation
- Second opinions
- Telemedicine appointments
- Insurance pre-authorization

### 4. Personal Records
Maintains health history for:
- Tracking chronic conditions
- Monitoring treatment effectiveness
- Family health records
- Emergency information

## Implementation Notes

### Backend Requirements
- Generate PDF using jsPDF
- Create symptom charts with Chart.js
- Store temporarily (24 hours) or stream directly
- Email delivery via SendGrid/AWS SES

### Frontend Integration
- Add "Generate Medical Report" button to Quick Scan results
- Show loading state during generation
- Option to email directly to provider
- Preview before download/send

### Data Flow
1. User completes Quick Scan/Deep Dive
2. Clicks "Generate Medical Report"
3. System aggregates all relevant data
4. Generates PDF with Epic MyChart styling
5. Returns downloadable PDF or emails to recipient

## Differences from Standard Quick Scan PDF

| Feature | Quick Scan PDF | Medical Report PDF |
|---------|---------------|-------------------|
| Format | Simple, user-friendly | Professional, clinical |
| Length | 1 page | 2-3 pages |
| Urgency Bar | No | Yes |
| Red Flags | Basic list | Detailed checklist |
| Timeline Chart | Optional | Always included |
| Medical History | No | Yes |
| Validity Period | No | 7 days |
| Verification | No | SHA-256 hash |
| Target Audience | Patient | Healthcare Provider |

## Email Template
When emailing medical reports:
- Subject: "Seimeo Health Assessment - [Date]"
- Body includes expiry warning
- PDF attached
- Link to view online (optional)
- Disclaimer about medical advice

---

*This specification defines the medical-grade PDF format for healthcare provider communication. It prioritizes clinical utility while maintaining HIPAA-compliant privacy standards.*